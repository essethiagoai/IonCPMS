#!/bin/bash

echo "üß™ Testando corre√ß√£o do problema de colar coordenadas..."
echo ""

# Verificar se o servidor est√° rodando
echo "üîç Verificando se o servidor est√° rodando..."
if curl -s http://localhost:5176/ > /dev/null; then
    echo "‚úÖ Servidor Operator UI est√° rodando em http://localhost:5176/"
else
    echo "‚ùå Servidor Operator UI n√£o est√° rodando"
    echo "üí° Execute: cd citrineos-operator-ui && npm run dev"
    exit 1
fi

echo ""
echo "üéØ Teste Espec√≠fico - Colar Coordenadas:"
echo ""
echo "1. Acesse: http://localhost:5176/"
echo "2. Fa√ßa login com:"
echo "   - Email: admin@citrineos.com"
echo "   - Senha: CitrineOS!"
echo ""
echo "3. V√° para: Locations ‚Üí Create Location"
echo ""
echo "4. Teste o campo Latitude:"
echo "   - O campo deve mostrar: 0.000000"
echo "   - Clique no campo"
echo "   - Cole o valor: -23.5505"
echo "   - Clique fora do campo"
echo "   - ‚úÖ Verifique se o valor permanece: -23.5505"
echo ""
echo "5. Teste o campo Longitude:"
echo "   - O campo deve mostrar: 0.000000"
echo "   - Clique no campo"
echo "   - Cole o valor: -46.85005"
echo "   - Clique fora do campo"
echo "   - ‚úÖ Verifique se o valor permanece: -46.85005"
echo ""
echo "6. Teste com outros valores:"
echo "   - Latitude: -22.9068 (Rio de Janeiro)"
echo "   - Longitude: -43.1729 (Rio de Janeiro)"
echo "   - Verifique se ambos permanecem ap√≥s clicar fora"
echo ""
echo "üîß Corre√ß√£o aplicada:"
echo "   - Removido a condi√ß√£o 'lat !== 0' e 'lng !== 0'"
echo "   - Agora aceita qualquer valor v√°lido (incluindo 0)"
echo "   - Mantido valida√ß√£o para null e NaN"
echo "   - Precis√£o de 6 casas decimais mantida"
echo ""
echo "üìç Valores de teste:"
echo "   - S√£o Paulo: Lat: -23.5505, Lng: -46.6333"
echo "   - Rio de Janeiro: Lat: -22.9068, Lng: -43.1729"
echo "   - Bras√≠lia: Lat: -15.7801, Lng: -47.9292"
echo ""
echo "üéâ Se os valores colados permanecerem ap√≥s clicar fora, a corre√ß√£o funcionou!"
echo ""
echo "üí° Se ainda n√£o funcionar, me informe:"
echo "   - Qual valor voc√™ colou"
echo "   - O que aconteceu quando clicou fora"
echo "   - Se h√° erros no console do navegador"
